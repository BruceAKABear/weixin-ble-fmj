{"version":3,"sources":["webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/main.js","webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/pages/order/order.vue?d890","webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/pages/order/order.vue?4190","webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/pages/order/order.vue?4da2","webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/pages/order/order.vue?136e","webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/pages/order/order.vue","webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/pages/order/order.vue?0562","webpack:///C:/Users/bear/Documents/HBuilderProjects/ble-fmj/pages/order/order.vue?175c"],"names":["createPage","Page","data","checkV","defaultImg","youhuiCode","placeholder","cansubmit","canSubmitClass","canNotSubmitClass","methods","changeRadioV","oepnxieyi","uni","showModal","title","content","machObject","userProtocol","showCancel","success","res","confirm","gotoPay","that","phoneBlueToothCanUse","showToast","icon","mask","duration","bleConnectedStatus","writeServiceId","showLoading","startService","judgeBlueToothCanUse","commitOrderRequstNetWork","request","url","baseRequestUrl","method","orderFrom","userId","deviceImei","voucherCode","goodsInfo","JSON","stringify","commitGoodsArray","param","code","requestPayment","provider","timeStamp","nonceStr","package","prepayId","signType","paySign","sign","sysOrderId","chargeTimeOrder","order","writeBLECharacteristicValue","deviceId","serviceId","characteristicId","value","chargeIntervalTimmerId","setInterval","indexOf","responseOrder","clearInterval","clearTimeout","chargeTimeOutTimmerId","confirmOrder","closeBLEConnection","console","log","hideLoading","reLaunch","setTimeout","fail","err","error","message","notifyBLECharacteristicValueChange","state","notifyServiceId","checkOnlineOrder","intervalTimmerId","timoutTimmerId","sanAndConnectBle","startBluetoothDevicesDiscovery","stopBluetoothDevicesDiscovery","getBluetoothDevices","devicesArray","devices","deviceFound","i","length","name","deviceNamePrefix","substring","setDeviceName","setDeviceId","connectBle","redirectTo","onBluetoothDeviceFound","getBLEDeviceServices","bluetoothServiceArray","services","uuid","toUpperCase","serviceIdPrefix","setServiceId","getBLEDeviceCharacteristics","characteristicArray","characteristics","notifyIdPrefix","setNotifyServiceId","writeIdPrefix","setWriteServiceId","createBLEConnection","errCode","computed","totalPrice","pric","goa","goodsObjectArray","singleProduc","product","goods","price","number","buttonMsg","onLoad"],"mappings":"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","file":"pages/order/order.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=47cb9227&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\bear\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('47cb9227', component.options)\n    } else {\n      api.reload('47cb9227', component.options)\n    }\n    module.hot.accept(\"./order.vue?vue&type=template&id=47cb9227&\", function () {\n      api.rerender('47cb9227', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Documents/HBuilderProjects/ble-fmj/pages/order/order.vue\"\nexport default component.exports","export * from \"-!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=47cb9227&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tString2Ab,\n\tAb2String\n} from '../../utils/index.js'\nimport {\n\tmapMutations,\n\tmapState\n} from 'vuex'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcheckV: true,\n\t\t\tdefaultImg: '../../static/chongdianqi.png',\n\t\t\tyouhuiCode: null,\n\t\t\tplaceholder: '兑换码不区分大小写',\n\t\t\tcansubmit: false,\n\t\t\tcanSubmitClass: 'submit-button',\n\t\t\tcanNotSubmitClass: 'can-not-submit'\n\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapMutations([\n\t\t\t'setUserId', 'setDeviceId', 'setServiceId', 'setWriteServiceId', 'setNotifyServiceId', 'setCheckOnlineOrder',\n\t\t\t'setDeviceName', 'setDeviceImei'\n\t\t]),\n\t\tchangeRadioV() {\n\t\t\tthis.checkV = !this.checkV\n\t\t},\n\t\toepnxieyi() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '用户协议',\n\t\t\t\tcontent: this.machObject.userProtocol,\n\t\t\t\tshowCancel: false,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * 提交订单支付\n\t\t */\n\t\tgotoPay() {\n\t\t\tvar that = this\n\t\t\tif (that.cansubmit) {\n\t\t\t\tif (that.phoneBlueToothCanUse) {\n\t\t\t\t\t//需要同意用户协议\n\t\t\t\t\tif (!that.checkV) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请同意用户协议',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t//按钮不可点\n\t\t\t\t\tthat.cansubmit = false\n\t\t\t\t\tif (that.bleConnectedStatus && that.writeServiceId != '') {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '加载中'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.startService()\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//蓝牙未连接，重新连接\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\tcontent: '设备连接中,请稍后重试',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tthat.cansubmit = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthat.judgeBlueToothCanUse()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * 提交订单，请求网络\n\t\t */\n\t\tcommitOrderRequstNetWork() {\n\t\t\tvar that = this\n\t\t\t//发起网络请求提交订单\n\t\t\tuni.request({\n\t\t\t\turl: that.baseRequestUrl + 'microProgramOrder/commitWeixinMicroOrder',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\torderFrom: 'wx_fmj',\n\t\t\t\t\tuserId: that.userId,\n\t\t\t\t\tdeviceImei: that.deviceImei,\n\t\t\t\t\tvoucherCode: that.youhuiCode,\n\t\t\t\t\tgoodsInfo: JSON.stringify(that.commitGoodsArray)\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tlet param = res.data\n\t\t\t\t\tif (param.code === 1) {\n\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\t\t\ttimeStamp: param.timeStamp,\n\t\t\t\t\t\t\tnonceStr: param.nonceStr,\n\t\t\t\t\t\t\tpackage: 'prepay_id=' + param.prepayId,\n\t\t\t\t\t\t\tsignType: 'MD5',\n\t\t\t\t\t\t\tpaySign: param.sign,\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t//请求实际命令\n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\turl: that.baseRequestUrl + 'order/getRealOrder?sysOrderId=' + param.sysOrderId,\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tif (res.data.code === 1) {\n\t\t\t\t\t\t\t\t\t\t\tlet chargeTimeOrder = res.data.order\n\t\t\t\t\t\t\t\t\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\t\t\t\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\t\t\t\t\t\t\tserviceId: that.serviceId,\n\t\t\t\t\t\t\t\t\t\t\t\tcharacteristicId: that.writeServiceId,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: String2Ab(chargeTimeOrder),\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//监听响应的命令\n\t\t\t\t\t\t\t\t\t\t\t\t\t//定时判断是否相同\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar chargeIntervalTimmerId = setInterval(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (chargeTimeOrder.indexOf(that.responseOrder) != -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//设置在充电中\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(chargeIntervalTimmerId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearTimeout(chargeTimeOutTimmerId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//下发Q06=1@\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tserviceId: that.serviceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharacteristicId: that.writeServiceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: String2Ab(that.confirmOrder),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//关闭蓝牙连接\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.closeBLEConnection({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//跳转到充电页面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../buyfinish/buyfinish'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 200)\n\t\t\t\t\t\t\t\t\t\t\t\t\t//定时判断,如果5秒以后还不对，那么就是伪造的直接推出\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar chargeTimeOutTimmerId = setTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (chargeTimeOrder.indexOf(that.responseOrder) === -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(chargeIntervalTimmerId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//关闭蓝牙连接\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '蓝牙响应失败,请重新扫码',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t//服务器响应失败\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '服务器开小差,请稍后重试',\n\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tthat.cansubmit = true\n\t\t\t\t\t\t\t\t//支付失败的话跳转到首页\n\t\t\t\t\t\t\t\tconsole.error('支付失败' + JSON.stringify(err));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\tcontent: param.message,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\t//服务器响应失败\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tcontent: '服务器开小差,请稍后重试',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\n\n\t\tstartService() {\n\t\t\tvar that = this\n\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\tstate: true,\n\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\tserviceId: that.serviceId,\n\t\t\t\tcharacteristicId: that.notifyServiceId,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\t// 下发在线命令\n\t\t\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\tserviceId: that.serviceId,\n\t\t\t\t\t\tcharacteristicId: that.writeServiceId,\n\t\t\t\t\t\tvalue: String2Ab(that.checkOnlineOrder),\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t//定时判断是否相同\n\t\t\t\t\t\t\tvar intervalTimmerId = setInterval(function() {\n\t\t\t\t\t\t\t\tif (that.checkOnlineOrder.indexOf(that.responseOrder) != -1) {\n\t\t\t\t\t\t\t\t\t//关闭蓝牙连接，以免创建多次连接系统级别会出问题\n\t\t\t\t\t\t\t\t\tclearInterval(intervalTimmerId)\n\t\t\t\t\t\t\t\t\tclearTimeout(timoutTimmerId)\n\t\t\t\t\t\t\t\t\t//提交订单\n\t\t\t\t\t\t\t\t\tthat.commitOrderRequstNetWork()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 200)\n\t\t\t\t\t\t\t//定时判断,如果5秒以后还不对，那么就是伪造的直接推出\n\t\t\t\t\t\t\tvar timoutTimmerId = setTimeout(function() {\n\t\t\t\t\t\t\t\tif (that.checkOnlineOrder.indexOf(that.responseOrder) === -1) {\n\t\t\t\t\t\t\t\t\tclearInterval(intervalTimmerId)\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\t\tcontent: '蓝牙功能异常,请稍后重试',\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.log('开启notify功能失败', res)\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\n\n\t\t/**\n\t\t * 判断蓝牙是否可用,使用到了递归，只有开启蓝牙以后才进行蓝牙的初始化\n\t\t */\n\t\tjudgeBlueToothCanUse() {\n\t\t\tvar that = this\n\t\t\t//为了用户体验，延时1.5秒\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (that.phoneBlueToothCanUse) {\n\t\t\t\t\t//搜索并连接蓝牙\n\t\t\t\t\tthat.sanAndConnectBle()\n\t\t\t\t} else {\n\t\t\t\t\t//手机蓝牙未打开\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tcontent: '请开启手机蓝牙功能',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tthat.judgeBlueToothCanUse()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t}, 1500);\n\t\t},\n\t\tsanAndConnectBle() {\n\t\t\tvar that = this\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\t//开启蓝牙搜索服务\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.stopBluetoothDevicesDiscovery({\n\t\t\t\t\t\t\tsuccess(res) {}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.getBluetoothDevices({\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t//判断是否是自己的设备,只能通过name来判断\n\t\t\t\t\t\t\t\tvar devicesArray = res.devices\n\t\t\t\t\t\t\t\tvar deviceFound = false\n\t\t\t\t\t\t\t\tfor (let i = 0; i < devicesArray.length; i++) {\n\t\t\t\t\t\t\t\t\t//2.1 如果设备名不存在直接跳出继续下次判断\n\t\t\t\t\t\t\t\t\tif (!devicesArray[i].name) {\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//2.2 查找自己的设备\n\t\t\t\t\t\t\t\t\tif (devicesArray[i].name.indexOf(that.deviceNamePrefix) != -1 && that.deviceImei.indexOf(devicesArray[\n\t\t\t\t\t\t\t\t\t\t\t\ti].name\n\t\t\t\t\t\t\t\t\t\t\t.substring(that.deviceNamePrefix.length)) != -1) {\n\t\t\t\t\t\t\t\t\t\tdeviceFound = true\n\t\t\t\t\t\t\t\t\t\tthat.setDeviceName(devicesArray[i].name)\n\t\t\t\t\t\t\t\t\t\t//2.3 封装实际的设备地址deviceId\n\t\t\t\t\t\t\t\t\t\tthat.setDeviceId(devicesArray[i].deviceId)\n\t\t\t\t\t\t\t\t\t\tthat.connectBle()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ((i === devicesArray.length - 1) && (!deviceFound)) {\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\t\t\tcontent: '未搜索到设备,请靠近设备后重试',\n\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 2000)\n\t\t\t\t\t//2. 会异步回调这个方法\n\t\t\t\t\tuni.onBluetoothDeviceFound((res) => {})\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tcontent: '开启蓝牙搜索功能失败,请稍后重试',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\t\tconnectBle() {\n\t\t\tvar that = this\n\t\t\t//如果已经连接，那么久不创建连接了\n\t\t\tif (that.bleConnectedStatus) {\n\t\t\t\tuni.getBLEDeviceServices({\n\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tlet bluetoothServiceArray = res.services\n\t\t\t\t\t\tfor (let i = 0; i < bluetoothServiceArray.length; i++) {\n\t\t\t\t\t\t\tif (bluetoothServiceArray[i].uuid.toUpperCase().indexOf(that.serviceIdPrefix) != -1) {\n\t\t\t\t\t\t\t\tthat.setServiceId(bluetoothServiceArray[i].uuid)\n\t\t\t\t\t\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\t\t\t\tserviceId: that.serviceId,\n\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\tlet characteristicArray = res.characteristics\n\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < characteristicArray.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tif (characteristicArray[i].uuid.toUpperCase().indexOf(that.notifyIdPrefix) != -1) {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.setNotifyServiceId(characteristicArray[i].uuid)\n\t\t\t\t\t\t\t\t\t\t\t} else if (characteristicArray[i].uuid.toUpperCase().indexOf(that.writeIdPrefix) != -\n\t\t\t\t\t\t\t\t\t\t\t\t1) {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.setWriteServiceId(characteristicArray[i].uuid)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthat.cansubmit = true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\t\t\tcontent: '读取蓝牙特征失败,请稍后重试',\n\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\tcontent: '读取蓝牙服务失败,请稍后重试',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t} else {\n\t\t\t\tuni.createBLEConnection({\n\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t//查询所有蓝牙服务\n\t\t\t\t\t\tuni.getBLEDeviceServices({\n\t\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tlet bluetoothServiceArray = res.services\n\t\t\t\t\t\t\t\tfor (let i = 0; i < bluetoothServiceArray.length; i++) {\n\t\t\t\t\t\t\t\t\tif (bluetoothServiceArray[i].uuid.toUpperCase().indexOf(that.serviceIdPrefix) != -1) {\n\t\t\t\t\t\t\t\t\t\tthat.setServiceId(bluetoothServiceArray[i].uuid)\n\t\t\t\t\t\t\t\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\t\t\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\t\t\t\t\t\tserviceId: that.serviceId,\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\tlet characteristicArray = res.characteristics\n\t\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < characteristicArray.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (characteristicArray[i].uuid.toUpperCase().indexOf(that.notifyIdPrefix) != -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.setNotifyServiceId(characteristicArray[i].uuid)\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (characteristicArray[i].uuid.toUpperCase().indexOf(that.writeIdPrefix) != -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.setWriteServiceId(characteristicArray[i].uuid)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.cansubmit = true\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '读取蓝牙特征失败,请稍后重试',\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\tcontent: '读取蓝牙服务失败,请稍后重试',\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t//处理10003\n\t\t\t\t\t\tif (res.errCode === 10003) {\n\t\t\t\t\t\t\t//1. 断连接\n\t\t\t\t\t\t\tuni.closeBLEConnection({\n\t\t\t\t\t\t\t\tdeviceId: that.deviceId,\n\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\tconsole.log('10003中连接断开')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthat.sanAndConnectBle()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\tcontent: '蓝牙连接失败,请检查蓝牙后重试',\n\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t}\n\n\t\t}\n\n\t},\n\tcomputed: {\n\t\t...mapState(['phoneBlueToothCanUse', 'baseRequestUrl', 'charging', 'deviceNamePrefix', 'notifyIdPrefix',\n\t\t\t'writeIdPrefix', 'serviceIdPrefix',\n\t\t\t'deviceImei', 'deviceName', 'deviceId',\n\t\t\t'serviceId', 'notifyServiceId', 'writeServiceId', 'bleConnectedStatus', 'responseOrder', 'checkOnlineOrder',\n\t\t\t'confirmOrder',\n\t\t\t'goodsObjectArray', 'commitGoodsArray', 'userId'\n\t\t]),\n\t\ttotalPrice() {\n\t\t\tlet pric = 0\n\t\t\tlet goa = this.goodsObjectArray\n\t\t\tfor (var i = 0; i < goa.length; i++) {\n\t\t\t\tlet singleProduc = goa[i]\n\t\t\t\tpric += singleProduc.product.goods.price * singleProduc.number\n\t\t\t}\n\t\t\treturn pric\n\t\t},\n\t\tbuttonMsg() {\n\t\t\treturn this.cansubmit ? '立即支付' : '订单加载中'\n\t\t}\n\t},\n\tonLoad() {\n\t\t//2.判断蓝牙是否可用\n\t\tthis.judgeBlueToothCanUse()\n\t}\n}\n","import mod from \"-!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}